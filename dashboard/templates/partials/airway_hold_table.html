<div class="table-scroll" x-data="airwaySort()">
  <table class="airway-table">
    <thead>
      <tr>
        <th @click="sort(0)" class="sortable-th">
          Case # <span x-text="indicator(0)"></span>
        </th>
        <th @click="sort(1)" class="sortable-th">
          Pan # <span x-text="indicator(1)"></span>
        </th>
        <th @click="sort(2)" class="sortable-th">
          Doctor <span x-text="indicator(2)"></span>
        </th>
        <th @click="sort(3)" class="sortable-th">
          Practice <span x-text="indicator(3)"></span>
        </th>
        <th @click="sort(4)" class="sortable-th">
          Patient <span x-text="indicator(4)"></span>
        </th>
        <th @click="sort(5)" class="sortable-th">
          Create Date <span x-text="indicator(5)"></span>
        </th>
        <th @click="sort(6)" class="sortable-th">
          Ship Date <span x-text="indicator(6)"></span>
        </th>
        <th @click="sort(7)" class="sortable-th">
          Hold Date <span x-text="indicator(7)"></span>
        </th>
        <th @click="sort(8)" class="sortable-th">
          Hold Status <span x-text="indicator(8)"></span>
        </th>
        <th @click="sort(9)" class="sortable-th">
          Hold Reason <span x-text="indicator(9)"></span>
        </th>
        <th @click="sort(10)" class="sortable-th">
          Type <span x-text="indicator(10)"></span>
        </th>
        <th @click="sort(11)" class="sortable-th">
          Follow-Up Date <span x-text="indicator(11)"></span>
        </th>
      </tr>
    </thead>
    <tbody>
      {% for case in cases %}
      <tr>
        <td class="mono">{{ case.get('CaseNumber', '') }}</td>
        <td class="mono">{{ case.get('PanNumber', '') }}</td>
        <td>{{ case.get('DoctorName', '') }}</td>
        <td>{{ case.get('PracticeName', '') }}</td>
        <td>{{ case.get('PatientName', '') }}</td>
        <td>{{ case.get('CreateDate', '') | fmt_date }}</td>
        <td>{{ case.get('ShipDate', '') | fmt_date }}</td>
        <td>{{ case.get('HoldDate', '') | fmt_date }}</td>
        <td>{{ case.get('HoldStatus', '') }}</td>
        <td style="max-width:300px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;" title="{{ case.get('HoldReason', '') }}">{{ case.get('HoldReason', '') }}</td>
        <td>{{ case.get('FollowUpType', '') }}</td>
        <td>{{ case.get('FollowUpDate', '') }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  {% if not cases %}
  <div class="empty-state">
    <p>No airway hold cases found</p>
  </div>
  {% endif %}
</div>

<div class="table-footer">
  <span>{{ cases | length }} cases</span>
</div>
